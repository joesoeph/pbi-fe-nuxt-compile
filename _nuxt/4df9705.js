(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{688:function(e,t,r){"use strict";r.r(t);var n=r(108),o=r(141),c=r(47),l=(r(142),{props:{item:{type:Object,required:!0}},data:function(){return{isFollowed:!1}},fetch:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.$auth.loggedIn){t.next=5;break}return t.next=3,e.$axios.$get("/api/v1/user/checkfollowing?id=".concat(e.item.UserId));case 3:r=t.sent,e.isFollowed=r.result.data;case 5:case"end":return t.stop()}}),t)})))()},computed:{isAuthor:function(){return!!this.$auth.loggedIn&&this.$auth.user.UserId!==this.item.UserId}},methods:{follow:function(e){var t=this;return Object(c.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.$axios.$post("/api/v1/user/follow",{id:e});case 3:"Follow"===r.sent.result.data?(t.$toast.success("Berhasil mengikuti pengguna"),t.isFollowed=!0):(t.$toast.warning("Berhenti mengikuti pengguna"),t.isFollowed=!1),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),t.$router.push("/auth/login");case 10:case"end":return r.stop()}}),r,null,[[0,7]])})))()}}}),d=r(28),component=Object(d.a)(l,(function(){var e=this,t=e._self._c;return t(n.a,{staticClass:"ml-2 mt-1",attrs:{small:"",outlined:!e.isFollowed,dark:e.isFollowed,fab:"",elevation:"0",color:"light-green darken-3"},on:{click:function(t){return e.follow(e.item.UserId)}}},[e.isFollowed?t(o.a,{attrs:{dark:""}},[e._v("mdi-account-check")]):t(o.a,{attrs:{dark:""}},[e._v("mdi-account-plus")])],1)}),[],!1,null,null,null);t.default=component.exports}}]);