(window.webpackJsonp=window.webpackJsonp||[]).push([[99],{722:function(e,t,n){var content=n(770);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(18).default)("317d0fb2",content,!0,{sourceMap:!1})},769:function(e,t,n){"use strict";n(722)},770:function(e,t,n){var o=n(17)((function(i){return i[1]}));o.push([e.i,".map[data-v-1c2a1b6f]{max-height:100%;min-height:500px}@media screen and (max-width:1024px){.map[data-v-1c2a1b6f]{max-height:100%;min-height:300px}}",""]),o.locals={},e.exports=o},814:function(e,t,n){"use strict";n.r(t);var o=n(130),r=n(279),c=n(185),l=n(40),d=n(84),h=n(676),m=n(200),f=n(47),y=(n(142),n(35),n(34),n(239),n(60),n(794)),x={data:function(){var e=this;return{searchKeyword:"",suggestions:[],fuseOptions:{includeScore:!0,keys:["properties.InstitutionName"]},mapOptions:{closePopupOnClick:!1,doubleClickZoom:"center",scrollWheelZoom:!1},markerClusterOptions:{disableClusteringAtZoom:11,chunkedLoading:!0},result:{},keyword:"",center:[-2.5489,118.0149],zoom:5,tempGeojson:null,geojson:null,geoJsonLoaded:!1,geoJsonOptions:{onEachFeature:function(t,n){n.bindPopup('<a\n                  href="/simpul/'.concat(t.properties.UrlSlug,'"\n                  style="\n                  display: flex;\n                  flex-direction: column;\n                  justify-content: center;\n                  align-items: center;\n                  text-decoration: none;\n                  color: black;\n                  "\n                >\n                  <img src="').concat(e.avatar("".concat(t.properties.ProfilePicture)),'" alt="').concat(t.properties.ProfilePicture,'" style="height: 6rem" />\n                  <p style="font-size: 1.25rem;">').concat(t.properties.InstitutionName,'</p>\n                  <p style="margin-top: 1rem">').concat(t.properties.Address,"</p>\n                </a>"))}}}},fetch:function(){var e=this;return Object(f.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.$get("".concat("https://api.pustakabergerak.id","/api/v1/institution/geojson"));case 2:n=t.sent,e.geojson=n.result.data,e.geoJsonLoaded=!0;case 5:case"end":return t.stop()}}),t)})))()},fetchOnServer:!1,methods:{handlerClear:function(){this.zoom=5,this.center=[-2.5489,118.0149],this.searchKeyword="",this.suggestions=[]},handlerSearch:function(){var e=new y.a(this.geojson.features,this.fuseOptions);this.suggestions=e.search(this.searchKeyword)},zoomToSelection:function(e,t){var n=this;this.searchKeyword=e,this.zoom=18,this.center=[t[1],t[0]],setTimeout((function(){n.zoom=18,n.center=[t[1],t[0]]}),2e3),this.suggestions=[]},zoomUpdated:function(e){this.zoom=e},centerUpdated:function(e){this.center=e},avatar:function(e){return"null"!==e?this.pbiImage(e):"/logo.png"}}},w=(n(769),n(28)),component=Object(w.a)(x,(function(){var e=this,t=e._self._c;return e.$fetchState.pending||e.$fetchState.error?t(h.a,{attrs:{type:"image"}}):t("div",{staticClass:"relative d-flex justify-center"},[t(d.a,{staticClass:"pa-3 absolute d-flex flex-column",staticStyle:{"z-index":"4","background-color":"transparent"}},[t(m.a,{staticClass:"pa-0 ma-0 rounded-lg",attrs:{outlined:"","background-color":"white",color:"light-green darken-3",clearable:"","append-icon":"mdi-magnify",label:"Cari simpul",type:"text"},on:{"click:append":function(t){return e.handlerSearch()},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handlerSearch()},"click:clear":function(t){return e.handlerClear()}},model:{value:e.searchKeyword,callback:function(t){e.searchKeyword=t},expression:"searchKeyword"}}),e._v(" "),t(o.a,{directives:[{name:"show",rawName:"v-show",value:e.suggestions.length>0&&e.searchKeyword,expression:"suggestions.length > 0 && searchKeyword"}],staticClass:"tw-overflow-auto",attrs:{"max-height":"200px","min-height":"200px",rounded:"xl",elevation:"4"}},[t(r.a,{attrs:{dense:""}},e._l(e.suggestions,(function(n,o){return t(c.a,{key:o,attrs:{link:""},on:{click:function(t){return e.zoomToSelection(n.item.properties.InstitutionName,n.item.geometry.coordinates)}}},[t(l.c,[e._v("\n            "+e._s(n.item.properties.InstitutionName)+"\n          ")])],1)})),1)],1)],1),e._v(" "),t("LeafletMap",{staticClass:"tw-h-screen tw-w-full rounded-xl tw-relative",staticStyle:{height:"550px","z-index":"3"},attrs:{options:e.mapOptions,zoom:e.zoom,center:e.center},on:{"update:zoom":e.zoomUpdated,"update:center":e.centerUpdated}},[t("TileLayer",{attrs:{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}}),e._v(" "),e.geoJsonLoaded?t("MarkerCluster",{attrs:{options:e.markerClusterOptions}},[t("GeoJSON",{attrs:{geojson:e.geojson,options:e.geoJsonOptions}})],1):e._e()],1)],1)}),[],!1,null,"1c2a1b6f",null);t.default=component.exports}}]);